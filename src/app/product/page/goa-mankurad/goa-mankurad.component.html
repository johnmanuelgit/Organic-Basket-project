<div class=" py-40 bg-[#f6f0e8] space-x-10 w-full h-full ">
  <div class="flex justify-between items-center  px-5 md:px-20">
    <p class="flex gap-2 text-[#941a28] text-sm">
      <a [routerLink]="['home']" class="hover:underline">Home</a> >  <a [routerLink]="['/products']" class="hover:underline">Products</a> > Goa Mankurad (Mancurad) Mango
    </p>
  </div>
  <div class="flex flex-row items-center justify-center w-full h-full  flex-wrap md:flex-nowrap">
    <div class="w-1/2 flex items-center justify-center">
    <img src="assets/image/product-2.webp" alt="Mango Basket"  class="w-90 h-90 object-contain md:object-cover  transition-transform duration-500 ease-in-out hover:scale-125">
    </div>
    <div class="ml-6">
      <h1 class="text-xl md:text-4xl font-bold text-green-700">Goa Mankurad (Mancurad)<br> Mango</h1>

      <!-- Select Week -->
      <label class="block mt-4">Select Week </label>
      <div class="relative w-full">
        <button (click)="toggleDropdown()" class="border rounded px-3 py-2 text-left">
          {{ selectedWeek || 'Choose an option' }}
          <svg class="inline-block ml-2 w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"
            stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.25 9.25L10 14l4.75-4.75" />
          </svg>
        </button>
        <!-- Dropdown menu -->
        <div *ngIf="isOpen"
          class="absolute right-0 mt-2 w-full bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none transform transition duration-300 ease-out">
          <div class="py-1">
            <div (click)="selectWeek('14 April to 21 April 22 (Week 5)')" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer">14 April to 21 April 22 (Week 5)</div>
            <div (click)="selectWeek('23 April to 29 April (Week 6)')" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer">23 April to 29 April (Week 6)</div>
            <div (click)="selectWeek('30 April to 06 May (Week 7)')" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer">30 April to 06 May (Week 7)</div>
            <div (click)="selectWeek('07 May to 13 May (Week 8)')" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer">07 May to 13 May (Week 8)</div>
            <div (click)="selectWeek('14 May to 21 May (Week 9)')" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer">14 May to 21 May (Week 9)</div>
          </div>
        </div>
      </div>

      <!-- Select Grade -->
      <label class="block mt-4">Select Grade</label>
      <div class="flex space-x-4">
        <span
        *ngFor="let grade of grades"
        class="p-2 border rounded cursor-pointer"
        [ngClass]="{
          'bg-red-500 text-white': selectedGrade === grade,
          'bg-red-200': selectedGrade !== grade
        }"
        (click)="selectGrade(grade)"
      >
        {{ grade }}
      </span>
      
      </div>
      <!-- Quantity -->
      <label class="block mt-4">Quantity (in dz.)</label>
      <div class="flex items-center">
        <button (click)="decreaseQuantity()" class="px-3 py-1 border rounded">-</button>
        <input type="text" [(ngModel)]="quantity" class="w-12 text-center border mx-2 rounded">
        <button (click)="increaseQuantity()" class="px-3 py-1 border rounded">+</button>
      </div>

      <!-- Price -->
      <p class="text-xl font-bold mt-4">Price: â‚¹{{ price * quantity }}</p>

      <!-- Buttons -->
      <div class="mt-4 flex space-x-4">
        <button (click)="addToCart({name: 'Goa Mankurad mango', image: 'assets/image/product-2.webp'}, quantity)" class=" border-2 border-orange-500 px-6 py-4 rounded-full text-orange-600 font-bold hover:scale-105" >Add to Basket</button>
        <button 
        class="bg-orange-500 text-white px-10 py-4 rounded-full font-bold hover:scale-105 flex items-center justify-center space-x-2 disabled:opacity-60 disabled:cursor-not-allowed"
        (click)="buyProduct()"
        [disabled]="loading">
        
        <ng-container *ngIf="!loading; else loadingTpl">
          Buy Now
        </ng-container>
      
        <ng-template #loadingTpl>
          <svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v8z"></path>
          </svg>
          <span>Processing...</span>
        </ng-template>
      </button>
      
      </div>
    </div>
  </div>
  <div class="text-[#541a0f] p-6 md:p-22 font-sans">
      <div class="max-w-7xl mx-auto">
        <p class="text-sm font-semibold mb-2">Description</p>
        <p class="text-sm md:text-base mb-8">
          Each Goa mankurad mango weighs around 200-250 gms. It is rich in taste and it has a really small and flat mango stone or seed so this results into more pulp content. This mango variety is more juicy and pulpy than other alphonso mango varieties. It is an <strong class="font-semibold">exclusive mango basket certified fruit</strong>.
        </p>

        <h2 class="text-2xl md:text-3xl font-bold text-center mb-10">About Goa Mankurad Mango</h2>

        <div class="flex flex-col md:flex-row gap-10 items-center">
          <img
            src="assets/image/product/page-1-1.png"
            alt="Goa Mankurad Mango"
            class="w-80 h-80 object-cover rounded-full shadow-md"
          />

          <div class="flex-1">
            <div class="mb-4">
              <span class="bg-[#fed7aa] px-3 py-1 text-lg font-semibold rounded">Origin</span>
            </div>
            <p class="text-sm md:text-base leading-relaxed mb-4">
              Mankurad Mango has many other names like Kurad, Goa Mankur, Malcorado, or Corado is the most famous and popular mango variety of Goa. This mango is also known as the table mango and has a long history as well. Its name Malcardo was named by Portuguese and it means poor colored. These mangoes are exclusively found in Goa during mango season.
            </p>
            <ul class="text-sm list-disc list-inside space-y-1">
              <li><strong>It is famous mango of Goa</strong></li>
              <li><strong>It has longer shelf life</strong></li>
              <li><strong>It is poor coloured</strong></li>
            </ul>
          </div>
        </div>

        <div class="mt-12 grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
          <div>
            <div class="bg-orange-200 w-16 h-16 mx-auto rounded-full flex items-center justify-center">
              <img src="assets/image/product/page-1-2.png" alt="Origin" class="w-full h-full object-cover">
            </div>
            <p class="mt-2 text-sm font-semibold">Origin</p>
          </div>
          <div>
            <div class="bg-orange-200 w-16 h-16 mx-auto rounded-full flex items-center justify-center">
              <img src="assets/image/product/page-1-3.png" alt="Appearance" class="w-full h-full object-cover">
            </div>
            <p class="mt-2 text-sm font-semibold">Appearance</p>
          </div>
          <div>
            <div class="bg-orange-200 w-16 h-16 mx-auto rounded-full flex items-center justify-center">
              <img src="assets/image/product/page-1-4.png" alt="Taste" class="w-full h-full object-cover">
            </div>
            <p class="mt-2 text-sm font-semibold">Taste</p>
          </div>
          <div>
            <div class="bg-orange-200 w-16 h-16 mx-auto rounded-full flex items-center justify-center">
              <img src="assets/image/product/page-1-5.png" alt="Certification" class="w-full h-full object-cover">
            </div>
            <p class="mt-2 text-sm font-semibold">Certification</p>
          </div>
        </div>
      </div>
    </div>
  <div class="flex hidden lg:block">
    <img src="assets/image/product/page3.png" class="relative object-cover w-full h-full scale-110">
    <div class="absolute flex flex-col items-center left-40 -my-130">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
        <div *ngFor="let product of getVisibleProducts()" class="p-3">
          <img [src]="product.image" [alt]="product.name" class="w-40 h-40 object-cover rounded-md">
          <h3 class="text-xl font-semibold mt-2">{{ product.name }}</h3>
          <button [routerLink]="[product.route]" 
            class="mt-3 bg-orange-500 text-white px-4 py-2 rounded-full hover:bg-orange-600">
            Order Mangoes
          </button>
        </div>
      </div>

      <!-- Pagination Buttons -->
      <div class="flex mt-4 space-x-2">
        <span *ngFor="let product of products; let index = index"
          class="w-4 h-4 rounded-full transition-all duration-300" [ngClass]="{
        'bg-orange-500': index >= currentStartIndex && index < (currentStartIndex + 4),
        'bg-white': !(index >= currentStartIndex && index < (currentStartIndex + 4))
      }"></span>
      </div>

    </div>
  </div>
  <div class="max-w-2xl mx-auto mt-15">
    <div class="bg-white p-5 rounded-lg shadow-md">
      <button (click)="toggleFAQ()" 
              class="w-full flex justify-between items-center text-lg font-semibold text-[#8b0000]">
        
How to identify real Goa Mankurad Mango?                                            
        <span [ngClass]="{ 'rotate-180': isOpens }" class="transition-transform duration-300">
          &#9650;
        </span>
      </button>
      
      <div *ngIf="isOpens" class="mt-3 text-gray-700 transition-all duration-300">
        The size of these mangoes are comparatively smaller. They have a pure mango shape. The color of this mango is somewhere between, red, yellow, and green. It has a very intense taste. To be specific, it has golden color and lacks fibrosity. Plus, it also has a great aroma that can be easily recognised.
      </div>
    </div>
  </div>
</div>